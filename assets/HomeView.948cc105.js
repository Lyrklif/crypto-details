import{d as _,o as s,c as a,F as C,r as k,a as e,t as f,b as d,w,e as N,v as E,f as h,g as b,h as A,i as I,j as M,k as T}from"./index.819bdb99.js";import{A as g}from"./index.0fffb0ff.js";const D={class:"flex-row list-unstyled d-flex flex-wrap"},S=["onClick","title"],B=_({__name:"TrendCoins",props:{coins:Array},emits:["choose"],setup(c,{emit:o}){return(i,u)=>(s(),a("ul",D,[(s(!0),a(C,null,k(c.coins,t=>(s(),a("li",{key:t.item.id,class:"mr-1 mb-1"},[e("button",{onClick:n=>o("choose",t.item.symbol),type:"button",class:"btn btn-primary btn-pill text-dark py-1 px-2 animate-up-2",title:t.item.name},f(t.item.symbol),9,S)]))),128))]))}}),L={class:"alert alert-danger alert-dismissible shadow-soft fade show",role:"alert"},F=e("span",{class:"alert-inner--text"},"\u0422\u043E\u043A\u0435\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D",-1),H=e("span",{"aria-hidden":"true"},"\xD7",-1),R=[H],V=_({__name:"TokenNotFound",emits:["search","close"],setup(c,{emit:o}){return(i,u)=>(s(),a("div",L,[F,e("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",title:"Close",onClick:u[0]||(u[0]=t=>o("close"))},R)]))}}),j={class:"card bg-primary shadow-soft border-light p-2 p-md-4"},G=e("header",{class:"card-header text-center pb-0"},[e("h2",{class:"h4"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u0440\u0438\u043F\u0442\u043E\u0432\u0430\u043B\u044E\u0442\u044B")],-1),O={class:"card-body"},q=["onSubmit"],P={class:"form-group mb-3"},U={class:"input-group mb-0",for:"coin-name"},z=["disabled"],J=["disabled"],K=_({__name:"SearchCoins",emits:["search"],setup(c,{emit:o}){const t=d(!1),n=d(!1),r=d(""),m=d([]);async function $(){try{const l=await g.coingecko.trending();m.value=l.data.coins.slice(0,5)}catch{m.value=[]}}async function y(){try{t.value=!1,n.value=!0;const l=await g.coinpaprika.search({q:r.value,limit:5});o("search",l.data.currencies)}catch{t.value=!0}finally{n.value=!1}}const x=l=>{r.value=l,y()};return $(),(l,p)=>(s(),a("div",j,[G,e("div",O,[e("form",{onSubmit:w(y,["prevent"])},[e("div",P,[e("label",U,[N(e("input",{id:"coin-name",type:"text",class:"form-control","onUpdate:modelValue":p[0]||(p[0]=v=>r.value=v),disabled:n.value,minlength:3},null,8,z),[[E,r.value]])])]),m.value.length?(s(),h(B,{key:0,coins:m.value,onChoose:x},null,8,["coins"])):b("",!0),t.value?(s(),h(V,{key:1,onClose:p[1]||(p[1]=v=>t.value=!1)})):b("",!0),e("button",{type:"submit",class:"btn btn-block btn-primary animate-up-2",title:"\u041F\u043E\u0438\u0441\u043A",disabled:n.value||r.value.length<3}," \u041F\u043E\u0438\u0441\u043A ",8,J)],40,q)])]))}}),Q={class:"card bg-primary border-light p-2 p-md-4 shadow-inset"},W={class:"card-header text-center pb-0 d-flex align-items-center justify-content-between flex-wrap"},X=e("span",{class:"mr-1"},[e("span",{class:"fas fa-angle-left"})],-1),Y=e("h2",{class:"h4 mb-2"},"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043F\u043E\u0438\u0441\u043A\u0430",-1),Z={class:"card-body"},ee={class:"list-unstyled"},se={class:"font-small"},te={class:"font-weight-bold"},ne={class:"d-flex list-unstyled"},oe={key:0,class:"badge badge-secondary mr-1 mb-1"},ae={key:0,class:"badge badge-success mr-1 mb-1"},ue=_({__name:"SearchResults",props:{items:Array},emits:["back"],setup(c,{emit:o}){return(i,u)=>{const t=T("RouterLink");return s(),a("div",Q,[e("header",W,[e("button",{class:"btn btn-primary mr-1 mb-2 animate-left-2",type:"button",onClick:u[0]||(u[0]=n=>o("back"))},[X,A(" \u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F ")]),Y]),e("div",Z,[e("ul",ee,[(s(!0),a(C,null,k(c.items,n=>(s(),a("li",{key:n.id,class:"card bg-primary border-light shadow-soft mb-3 animate-up-2"},[I(t,{to:{name:"coin",params:{id:n.id}},class:"p-2 p-md-3"},{default:M(()=>[e("span",se,f(n.symbol),1),e("h3",te,f(n.name),1),e("ul",ne,[e("li",null,[n.is_new?(s(),a("span",oe,"New")):b("",!0)]),e("li",null,[n.is_active?(s(),a("span",ae,"Active")):b("",!0)])])]),_:2},1032,["to"])]))),128))])])])}}}),le={class:"row justify-content-center mt-7"},ce={class:"col-12 col-md-10 col-lg-6 justify-content-center"},de=_({__name:"HomeView",setup(c){const o=d([]),i=(u=[])=>{o.value=u};return(u,t)=>(s(),a("div",le,[e("div",ce,[o.value.length?(s(),h(ue,{key:1,items:o.value,onBack:i},null,8,["items"])):(s(),h(K,{key:0,onSearch:i}))])]))}});export{de as default};
